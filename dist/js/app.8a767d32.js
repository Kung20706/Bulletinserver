(function(){"use strict";var t={9594:function(t,n,e){var l=e(9242),i=e(3396);function u(t,n,e,l,u,o){const r=(0,i.up)("BulletinBoard");return(0,i.wg)(),(0,i.j4)(r)}var o=e(7139);const r=t=>((0,i.dD)("data-v-c1c77628"),t=t(),(0,i.Cn)(),t),a={class:"form-container"},c=r((()=>(0,i._)("h1",null,"佈告欄",-1))),s={class:"bulletin-text"},d=r((()=>(0,i._)("br",null,null,-1))),p={class:"bulletin-text"},f=r((()=>(0,i._)("br",null,null,-1))),b=r((()=>(0,i._)("button",{type:"submit",class:"edit-button"},"新增佈告欄",-1))),B={key:0},h=r((()=>(0,i._)("br",null,null,-1))),g=r((()=>(0,i._)("br",null,null,-1))),v=r((()=>(0,i._)("button",{type:"submit",class:"edit-button"},"更新",-1))),w={key:1},m=["onClick"],_=["onClick"];function y(t,n,e,u,r,y){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",a,[r.editingBulletin?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("form",{key:0,onSubmit:n[2]||(n[2]=(0,l.iM)(((...t)=>y.addBulletin&&y.addBulletin(...t)),["prevent"]))},[c,(0,i._)("label",s,[(0,i.Uk)(" 標題: "),(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":n[0]||(n[0]=t=>r.newBulletin.title=t),type:"text",required:""},null,512),[[l.nr,r.newBulletin.title]])]),d,(0,i._)("label",p,[(0,i.Uk)(" 內文: "),(0,i.wy)((0,i._)("textarea",{"onUpdate:modelValue":n[1]||(n[1]=t=>r.newBulletin.content=t),required:""},null,512),[[l.nr,r.newBulletin.content]])]),f,b],32))]),(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.bulletins,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t.id},[t===r.editingBulletin?((0,i.wg)(),(0,i.iD)("div",B,[(0,i._)("form",{onSubmit:n[6]||(n[6]=(0,l.iM)(((...t)=>y.updateBulletin&&y.updateBulletin(...t)),["prevent"]))},[(0,i._)("label",null,[(0,i.Uk)(" 標題: "),(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":n[3]||(n[3]=t=>r.editingBulletin.title=t),type:"text",required:""},null,512),[[l.nr,r.editingBulletin.title]])]),h,(0,i._)("label",null,[(0,i.Uk)(" 內文: "),(0,i.wy)((0,i._)("textarea",{"onUpdate:modelValue":n[4]||(n[4]=t=>r.editingBulletin.content=t),required:""},null,512),[[l.nr,r.editingBulletin.content]])]),g,v,(0,i._)("button",{type:"button",onClick:n[5]||(n[5]=(...t)=>y.cancelEdit&&y.cancelEdit(...t)),class:"del-button"},"取消")],32)])):((0,i.wg)(),(0,i.iD)("div",w,[(0,i._)("h2",null,"主旨 : "+(0,o.zw)(t.title),1),(0,i._)("p",null,"內文 : "+(0,o.zw)(t.content),1),(0,i._)("button",{onClick:n=>y.editBulletin(t),class:"edit-button"},"編輯",8,m),(0,i._)("button",{onClick:n=>y.deleteBulletin(t.id),class:"del-button"},"刪除",8,_)]))])))),128))])])}var k=e(4311),O={name:"BulletinBoard",props:{msg:String},data(){return{bulletins:[],newBulletin:{title:"",content:""},editingBulletin:null}},methods:{async getBulletins(){const t=await k.Z.get("http://127.0.0.1:3000/announcements");this.bulletins=t.data},async addBulletin(){const t=await k.Z.post("http://127.0.0.1:3000/announcements",this.newBulletin);this.bulletins=t.data,this.newBulletin={title:"",content:""}},async updateBulletin(){const t=await k.Z.put(`http://127.0.0.1:3000/announcements/${this.editingBulletin.id}`,this.editingBulletin);this.bulletins=t.data,this.editingBulletin=null},async deleteBulletin(t){await k.Z["delete"](`http://127.0.0.1:3000/announcements/${t}`),this.bulletins=this.bulletins.filter((n=>n.id!==t))},editBulletin(t){this.editingBulletin=t},cancelEdit(){this.editingBulletin=null}},computed:{sortedBulletins(){return this.bulletins.slice().sort(((t,n)=>n.id-t.id))}},mounted(){this.getBulletins()}},x=e(89);const j=(0,x.Z)(O,[["render",y],["__scopeId","data-v-c1c77628"]]);var C=j,U={name:"App",components:{BulletinBoard:C}};const D=(0,x.Z)(U,[["render",u]]);var Z=D;(0,l.ri)(Z).mount("#app")}},n={};function e(l){var i=n[l];if(void 0!==i)return i.exports;var u=n[l]={exports:{}};return t[l](u,u.exports,e),u.exports}e.m=t,function(){var t=[];e.O=function(n,l,i,u){if(!l){var o=1/0;for(s=0;s<t.length;s++){l=t[s][0],i=t[s][1],u=t[s][2];for(var r=!0,a=0;a<l.length;a++)(!1&u||o>=u)&&Object.keys(e.O).every((function(t){return e.O[t](l[a])}))?l.splice(a--,1):(r=!1,u<o&&(o=u));if(r){t.splice(s--,1);var c=i();void 0!==c&&(n=c)}}return n}u=u||0;for(var s=t.length;s>0&&t[s-1][2]>u;s--)t[s]=t[s-1];t[s]=[l,i,u]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={143:0};e.O.j=function(n){return 0===t[n]};var n=function(n,l){var i,u,o=l[0],r=l[1],a=l[2],c=0;if(o.some((function(n){return 0!==t[n]}))){for(i in r)e.o(r,i)&&(e.m[i]=r[i]);if(a)var s=a(e)}for(n&&n(l);c<o.length;c++)u=o[c],e.o(t,u)&&t[u]&&t[u][0](),t[u]=0;return e.O(s)},l=self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[];l.forEach(n.bind(null,0)),l.push=n.bind(null,l.push.bind(l))}();var l=e.O(void 0,[998],(function(){return e(9594)}));l=e.O(l)})();
//# sourceMappingURL=app.8a767d32.js.map